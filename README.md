# nCoV-push
使用go语言编写的实时疫情信息微信推送，数据来源为丁香园，微信推送基于server酱

## 推送功能

- 全国统计数据及趋势图(丁香园)
- 所有区域的最新新闻
- 指定省份的最新新闻
- 最新辟谣消息
- 指定城市的详细统计数据
- 指定省份的各市详细统计数据
- 自定义显示模板

## 示例

- ![图片.png](https://i.loli.net/2020/01/31/qWDYf1eSu4ympC5.png)

- ![图片.png](https://i.loli.net/2020/01/31/H7yhs9SDckNOtwE.png)

- ![图片.png](https://i.loli.net/2020/01/31/mPbwVFaNYpD5eS6.png)

- ![图片.png](https://i.loli.net/2020/01/31/o6ahPDBfnQEq1Mg.png)


## 使用说明

### 环境要求
- go 环境
- 启用go mod 代理

### 开通server酱服务
开通server酱服务过程特别简单，不超过一分钟
1. github登陆，获得`SCKEY`(后面需要用到)
2. 手机扫描二维码

详细过程参考 [server酱官网](http://sc.ftqq.com/3.version)

### 推送配置

#### 设置**SCKEY**

**main.go**文件中第`4`行，将`sendKey`替换成刚才获取到的`SCKEY`。
```
const sendKey = "SCUxxxx"
```

#### 自定义订阅

自定义 **main.go** 文件中的订阅内容

```go
func main() {

    // 订阅全国的概况数据及趋势图,建议订阅
    // 第一个参数是推送的主题，可自定义，值为 "" 或 "default"时，使用系统默认的主题
    // 第二个参数为间隔时间，以秒为单位，不建议取得太短，300秒适中
	go SubChina("default", 300)

    // 订阅指定的省份各市或直辖市各区详情数据，可同时订阅多个
    // 第一个参数是省份名或直辖市名，请根据丁香园的省份名或直辖市填写
    // 第二个参数是推送的主题，可自定义，值为 "" 或 "default"时，使用系统默认的主题
    // 第二个参数为间隔时间，以秒为单位，不建议取得太短，300秒适中
    // 示例 1 go SubProvince("上海市", "default", 300)
	go SubProvince("安徽省", "default", 300)
	

    // 订阅指定的城市详情数据，可同时订阅多个
    // 第一个参数是城市或区(如重庆市的万州区)，请根据丁香园的城市或区名称填写
    // 第二个参数是推送的主题，可自定义，值为 "" 或 "default"时，使用系统默认的主题
    // 第二个参数为间隔时间，以秒为单位，不建议取得太短，300秒适中
    // 示例 1 go SubCity("万州区", "default", 300)
    go SubCity("合肥", "default", 300)


	// 订阅新闻数据，可同时订阅多个，但注意新闻不会重复推送，如同时订阅所有区域新闻和省份新闻时。
    // 第一个参数是省份名或所有，请根据丁香园的省份名称填写
    // 值为 "" 、"default"、"all"时,订阅所有区域的最新新闻。值为省份名时，只订阅该省的最新新闻
    // 第二个参数是推送的主题，可自定义，值为 "" 或 "default"时，使用系统默认的主题
    // 第二个参数为间隔时间，以秒为单位，不建议取得太短，300秒适中
    // 示例1  go SubNews("all", "default", 300) 订阅全部地区新闻
    // 示例2  go SubNews("安徽省", "default", 300) 只订阅安徽省的新闻
    go SubNews("all", "default", 300)

    // 订阅辟谣信息-不要同时订阅多个
    // 第一个参数是推送的主题，可自定义，值为 "" 或 "default"时，使用系统默认的主题
    // 第二个参数为间隔时间，以秒为单位，不建议取得太短，300秒适中
	go SubRumors("default", 300)
	select {}
}
```

### 运行或编译运行

直接运行命令
```bash
go run *.go
```

编译运行
```bash
go build
```

